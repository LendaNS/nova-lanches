
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Novo Pedido - Açaí</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>
<body class="bg-light">
  <div class="container py-4">
    <h1 class="mb-4 text-center">Monte seu Açaí</h1>
    <form id="pedidoForm">
      <div class="mb-3">
        <label for="nome" class="form-label">Nome:</label>
        <input type="text" class="form-control" id="nome" name="nome" required />
      </div>

      <div class="mb-3">
        <label for="tamanho" class="form-label">Tamanho do Açaí:</label>
        <select class="form-select" id="tamanho" name="tamanho">
          <option value="300ml">300ml</option>
          <option value="500ml">500ml</option>
          <option value="700ml">700ml</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Adicionais:</label><br />
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="adicionais"
            value="Leite Condensado"
            id="leiteCondensado"
          />
          <label class="form-check-label" for="leiteCondensado">Leite Condensado</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="adicionais"
            value="Granola"
            id="granola"
          />
          <label class="form-check-label" for="granola">Granola</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="adicionais" value="Paçoca" id="pacoca" />
          <label class="form-check-label" for="pacoca">Paçoca</label>
        </div>
      </div>

      <div class="mb-3">
        <label for="observacoes" class="form-label">Observações:</label>
        <textarea class="form-control" id="observacoes" name="observacoes" rows="3"></textarea>
      </div>

      <button type="submit" class="btn btn-primary">Enviar Pedido</button>
    </form>

    <div class="mt-4" id="mensagemConfirmacao" style="display: none;">
      <div class="alert alert-success">Pedido enviado com sucesso!</div>
    </div>
  </div>

  <!-- Acesso oculto ao painel admin -->
  <div style="display:none;">
    <form id="adminAccessForm" class="position-absolute top-0 end-0 m-3" style="width: 200px;">
      <input type="password" id="adminSenha" class="form-control mb-2" placeholder="Senha secreta" />
      <button type="submit" class="btn btn-sm btn-dark">Entrar</button>
    </form>
  </div>

  <script>
    // Salvar pedido no localStorage
    document.getElementById('pedidoForm').addEventListener('submit', function (event) {
      event.preventDefault();

      const nome = this.nome.value.trim();
      const tamanho = this.tamanho.value;
      const adicionais = Array.from(this.querySelectorAll('input[name="adicionais"]:checked')).map(
        (el) => el.value
      );
      const observacoes = this.observacoes.value.trim();

      const pedido = {
        id: Date.now(),
        nome,
        tamanho,
        adicionais,
        observacoes,
        data: new Date().toLocaleString('pt-BR'),
      };

      // Pega os pedidos atuais
      const pedidos = JSON.parse(localStorage.getItem('pedidos')) || [];
      pedidos.push(pedido);
      localStorage.setItem('pedidos', JSON.stringify(pedidos));

      document.getElementById('mensagemConfirmacao').style.display = 'block';
      this.reset();
    });

    // Login para painel admin (senha: 1234)
    document.getElementById('adminAccessForm').addEventListener('submit', function (event) {
      event.preventDefault();
      const senha = document.getElementById('adminSenha').value;
      if (senha === '1234') {
        window.location.href = 'admin.html';
      } else {
        alert('Senha incorreta.');
      }
    });
  </script>
</body>
</html>
